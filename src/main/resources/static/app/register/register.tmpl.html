<div class="col-sm-7" data-ng-controller="RegisterController">
	<form name="registrationForm" novalidate>
		<h3>Register</h3>
		<br>
        <div ng-if="errorMsg" class="alert alert-danger" role="alert">
            {{errorMsg}}
        </div>

        <div class="input-group input-group-sm">
			<span class="input-group-addon" id="username">U</span>
			<input name="username"
					type="text" 
					class="form-control"
		  			placeholder="Username" 
		  			aria-describedby="username"
		  			ng-model="user.username" 
		  			ng-maxlength="20"
		  			required>
		</div>
		<div ng-if="registrationForm.username.$dirty">
			<div class="input-error-msg" 
					ng-if="registrationForm.username.$error.maxlength">
				Too many symbols
			</div>
			<div class="input-error-msg" 
					ng-if="registrationForm.username.$error.required">
				Field is required
			</div>
		</div>
		<br>
		
		<div class="input-group input-group-sm">
			<span class="input-group-addon" id="rname">N</span>
			<input name="firstname"
					type="text"
					class="form-control"
		  			placeholder="First name" 
		  			aria-describedby="rname"
		  			ng-model="user.name"
		  			ng-maxlength="30"
		  			ng-pattern="/^[a-žA-Ž-. ]*$/"
		  			required>
		</div>
		<div ng-if="registrationForm.firstname.$dirty">
			<div class="input-error-msg" 
					ng-if="registrationForm.firstname.$error.maxlength">
				Too many symbols
			</div>
			<div class="input-error-msg" 
					ng-if="registrationForm.firstname.$error.required">
				Field is required
			</div>
			<div class="input-error-msg" 
					ng-if="registrationForm.firstname.$error.pattern">
				Name should contain only letters
			</div>
		</div>
		
		<br>
		
		<div class="input-group input-group-sm">
			<span class="input-group-addon" id="rsurname">S</span>
			<input name="surname"
					type="text" 
					class="form-control"
		  			placeholder="Last name" 
		  			aria-describedby="rsurname"
		  			ng-model="user.surname"
		  			ng-maxlength="30"
		  			ng-pattern="/^[a-žA-Ž-. ]*$/"
		  			required>
		</div>
		<div ng-if="registrationForm.surname.$dirty">
			<div class="input-error-msg" 
					ng-if="registrationForm.surname.$error.maxlength">
				Too many symbols
			</div>
			<div class="input-error-msg" 
					ng-if="registrationForm.surname.$error.required">
				Field is required
			</div>
			<div class="input-error-msg" 
					ng-if="registrationForm.surname.$error.pattern">
				Surname should contain only letters
			</div>
		</div>
		
		<br>
		
		<div class="input-group input-group-sm">
			<span class="input-group-addon" id="remail">@</span>
			<input name="email"
					type="text" 
					class="form-control"
		  			placeholder="E-mail" 
		  			aria-describedby="remail"
		  			ng-model="user.email"
		  			ng-maxlength="70"
					ng-pattern = "/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i"
					required>
		</div>
		<div ng-if="registrationForm.email.$dirty">
			<div class="input-error-msg" 
					ng-if="registrationForm.email.$error.maxlength">
				Too many symbols
			</div>
			<div class="input-error-msg" 
					ng-if="registrationForm.email.$error.required">
				Field is required
			</div>
			<div class="input-error-msg" 
					ng-if="registrationForm.email.$error.pattern">
				Invalid e-mail address
			</div>
		</div>
		<br>
		
		<div class="input-group input-group-sm">
			<span class="input-group-addon" id="rpassw">P</span>
		  	<input name="password"
		  			type="password" 
		  			class="form-control"
		  			placeholder="Password" 
		  			aria-describedby="rpassw"
		  			ng-model="user.password"
		  			ng-maxlength="15"
					ng-minlength="7"
					ng-pattern = "/^(?=.*[0-9])(?=.*[a-zA-Z0-9])([a-zA-Z0-9]+)$/"
					required>
		</div>
		<div ng-if="registrationForm.password.$dirty">
			<div class="input-error-msg" 
					ng-if="registrationForm.password.$error.maxlength">
				Max. 15 symbols
			</div>
			<div class="input-error-msg" 
					ng-if="registrationForm.password.$error.minlength">
				Min. 7 symbols
			</div>
			<div class="input-error-msg" 
					ng-if="registrationForm.password.$error.required">
				Field is required
			</div>
			<div class="input-error-msg" 
					ng-if="registrationForm.password.$error.pattern">
				Should contain at least one number
			</div>
		</div>
		
		<br>
		
		<div class="input-group input-group-sm">
			<span class="input-group-addon" id="rrepassw">P</span>
		  	<input name="repassword"
		  			type="password" 
		  			class="form-control"
		  			placeholder="Repeat password" 
		  			aria-describedby="rrepassw"
		  			ng-model="user.repassword"
		  			required>
		</div>
		<div ng-if="registrationForm.repassword.$dirty">
			<div class="input-error-msg" 
					ng-if="registrationForm.repassword.$error.required">
				Field is required
			</div>
			<div class="input-error-msg" 
					ng-if="user.repassword != user.password">
				Passwords doesn't match
			</div>
		</div>
		<div class="row login-container">
 			<button class="btn btn-primary btn-float-right"
 					ng-disabled="registrationForm.$invalid 
 						|| user.repassword != user.password"
                    ng-click="saveUser()">Register</button>
		</div>
 	</form>
</div>